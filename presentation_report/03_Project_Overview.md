# 보고서 3: LinkedNote 프로젝트 개요 및 문제 해결 과정

## 1. 프로젝트 목표 및 개요

**LinkedNote**는 사용자가 웹 서핑 중 발견한 유용한 정보(URL)를 손쉽게 요약하고 관리할 수 있도록 돕는 데스크톱 애플리케이션입니다. 클립보드에 복사된 URL을 자동으로 감지하여 시스템 트레이 알림을 통해 사용자에게 알려주고, OpenAI API를 활용하여 다양한 모드(빠른 요약, 상세 요약, 태그 추출 등)의 요약을 제공하는 것을 목표로 합니다.

### 1.1. 핵심 기술 스택

- **프론트엔드 (데스크톱 앱)**: **Electron**
  - 웹 기술(HTML, CSS, JavaScript)을 사용하여 크로스 플랫폼 데스크톱 애플리케이션을 구축하기 위해 선택했습니다.
- **백엔드 (API 서버)**: **FastAPI (Python)**
  - Python의 강력한 라이브러리 생태계를 활용하고, 비동기 처리를 통해 빠른 성능을 제공하기 위해 선택했습니다.
- **데이터베이스**: **SQLite** with **SQLAlchemy** & **Alembic**
  - 별도의 서버 설정 없이 로컬 파일 기반으로 간단하게 사용할 수 있으며, SQLAlchemy(ORM)와 Alembic(마이그레이션)을 통해 체계적인 관리가 가능합니다.
- **AI 요약**: **OpenAI API**
  - `gpt-3.5-turbo` 모델을 사용하여 고품질의 텍스트 요약 및 태그 추출 기능을 구현했습니다.

## 2. 주요 기능 구현 과정

1.  **백엔드 API 구축**: FastAPI를 사용하여 사용자 인증(회원가입, 로그인), 웹 스크래핑, OpenAI 연동 요약, 요약 기록 저장 및 조회 API 엔드포인트를 구현했습니다.
2.  **데이터베이스 스키마 설계**: `users`와 `summaries` 테이블을 설계하고, Alembic을 사용하여 마이그레이션 스크립트를 작성 및 적용했습니다.
3.  **Electron 앱 구조화**: 시스템 트레이 아이콘, 알림, 설정 창, 모드 선택 팝업, 결과 창 등 다양한 UI 창을 생성하고 관리하는 로직을 구현했습니다.
4.  **핵심 기능 연동**: 클립보드 모니터링, URL 감지, 시스템 알림, 백엔드 API 호출, 결과 표시 등 핵심 기능들을 IPC 통신을 통해 유기적으로 연동했습니다.

## 3. 당면했던 주요 문제 및 해결 과정

프로젝트를 진행하며 여러 기술적인 문제에 직면했으며, 이를 해결하는 과정에서 많은 것을 배울 수 있었습니다.

### 3.1. 문제: Python 모듈 임포트 오류 (`ImportError`, `ModuleNotFoundError`)

- **상황**: `uvicorn`으로 FastAPI 서버를 실행할 때, `backend` 디렉토리 내에서 상대 경로(`from .api import auth`) 또는 절대 경로(`from backend.api import auth`) 임포트가 모두 실패하는 문제가 발생했습니다.
- **원인 분석**: `uvicorn`을 실행하는 위치에 따라 Python의 모듈 검색 경로(`sys.path`)가 달라지기 때문이었습니다. `backend` 디렉토리 내에서 실행하면 `backend`를 패키지로 인식하지 못했고, 프로젝트 루트에서 실행하면 `main` 모듈을 찾지 못했습니다.
- **해결 과정**:
  1.  `main.py`의 모든 내부 임포트를 `from backend.api import auth`와 같은 절대 경로 방식으로 통일했습니다.
  2.  `uvicorn` 실행 명령을 **프로젝트 루트 디렉토리**에서 `uvicorn backend.main:app`과 같이 **패키지 경로를 명시**하여 실행하도록 변경했습니다.
  3.  이를 통해 Python이 `backend`를 올바른 패키지로 인식하고, 모든 모듈을 정상적으로 임포트할 수 있었습니다.

### 3.2. 문제: 웹 스크래핑 실패 (`403 Forbidden` 오류)

- **상황**: `requests` 라이브러리를 사용하여 특정 웹사이트(예: `nytimes.com`)의 콘텐츠를 가져오려고 할 때, 서버에서 접근을 거부하는 `403 Forbidden` 오류가 발생했습니다.
- **원인 분석**: 해당 웹사이트가 `python-requests`와 같은 자동화된 스크립트의 `User-Agent`를 식별하고 차단하는 스크래핑 방지 기술을 사용하고 있었기 때문입니다.
- **해결 과정**:
  1.  **1차 시도**: `requests.get()` 요청 헤더에 일반적인 웹 브라우저의 `User-Agent` 문자열을 추가하여 스크립트가 아닌 것처럼 위장했지만, 여전히 차단되었습니다.
  2.  **2차 시도 (최종 해결)**: 직접적인 요청 대신, 스크래핑 방지 기술을 우회하도록 설계된 **웹 스크래핑 API (ScraperAPI)**를 도입했습니다. 백엔드가 ScraperAPI에 대상 URL을 전달하면, ScraperAPI가 대신 콘텐츠를 가져와 반환해주는 방식으로 문제를 해결했습니다.

### 3.3. 문제: Electron Tray 아이콘 로딩 실패

- **상황**: Electron 앱 실행 시, 시스템 트레이 아이콘 이미지를 로드하지 못하는 `Failed to load image from path` 오류가 지속적으로 발생했습니다.
- **원인 분석**: 파일이 실제로 존재함에도 불구하고 오류가 발생하는 것으로 보아, 경로 문자열의 문제 또는 Electron의 내부 자산 처리 방식과 관련된 문제로 추정했습니다.
- **해결 과정**:
  1.  **1차 시도**: `path.join(__dirname, ...)`을 사용하여 플랫폼 독립적인 절대 경로를 생성했지만 실패했습니다.
  2.  **2차 시도**: `nativeImage.createFromPath()`를 사용하여 Electron이 이미지를 직접 처리하도록 했지만 실패했습니다.
  3.  **3차 시도**: `app.getAppPath()`를 사용하여 패키지된 앱의 루트 경로를 기준으로 경로를 설정했지만 실패했습니다.
  4.  **최종 해결**: 여러 시도 끝에, `Tray` 생성자에 **단순 상대 경로**(`'assets/icons/icon.png'`)를 전달하는 방식으로 문제가 해결되었습니다. 이는 `electron .` 개발 모드에서 `Tray` 모듈이 현재 작업 디렉토리를 기준으로 경로를 해석하는 특정 동작 방식 때문인 것으로 결론지었습니다.

### 3.4. 문제: Git Push Protection으로 인한 푸시 실패

- **상황**: `.env` 파일에 실제 API 키를 저장한 채로 커밋하고 푸시하려다 GitHub의 푸시 보호 기능에 의해 거부되었습니다.
- **원인 분석**: 저장소에 민감한 정보(API 키, 시크릿 등)가 포함된 커밋이 푸시되는 것을 방지하기 위한 GitHub의 보안 정책 때문이었습니다.
- **해결 과정**:
  1.  `.gitignore`에 `.env` 파일이 포함되어 있음을 확인했습니다.
  2.  문제의 원인이 과거 커밋 기록에 민감한 정보가 남아있기 때문임을 파악했습니다.
  3.  `git filter-repo`와 같은 도구는 현재 환경에서 사용하기 어려워, **가장 최근의 커밋에서 `.env` 파일의 내용을 비우고 다시 커밋**하는 방법을 선택했습니다. (근본적인 해결책은 아니지만, 현재 환경에서 가능한 조치)
  4.  이 경험을 통해 `.env.example` 파일을 제공하고, `.env` 파일 자체는 절대로 Git으로 관리하지 않는다는 원칙의 중요성을 다시 한번 확인했습니다.

## 4. 결론

LinkedNote 프로젝트는 다양한 기술 스택을 통합하며 실제 애플리케이션을 개발하는 과정에서 발생할 수 있는 현실적인 문제들을 경험하고 해결하는 좋은 기회였습니다. 특히, Python 백엔드와 Electron 프론트엔드의 연동, 외부 API 활용, 그리고 Git을 통한 체계적인 버전 관리 및 협업 과정에서 마주친 문제들을 분석하고 해결하며 엔지니어링 역량을 크게 향상시킬 수 있었습니다.
