<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Select Summary Mode</title>
    <link rel="stylesheet" href="./css/global.css">
    <link rel="stylesheet" href="./css/mode-selection.css">
  </head>
  <body>
    <h1>Select Summary Mode</h1>
    <div class="container">
      <button id="quickSummary">Quick Summary</button>
      <button id="detailedSummary">Detailed Summary</button>
      <button id="tagsExtraction">Tags Extraction</button>
      <button id="fullText">Full Text</button>
    </div>
    <script>
      const { ipcRenderer } = require('electron');

      let currentUrl = '';

      ipcRenderer.on('url-to-summarize', (event, url) => {
        currentUrl = url;
      });

      document.addEventListener('DOMContentLoaded', () => {
        document.getElementById('quickSummary').addEventListener('click', () => {
          ipcRenderer.send('request-summary', { url: currentUrl, mode: 'quick' });
        });

        document.getElementById('detailedSummary').addEventListener('click', () => {
          ipcRenderer.send('request-summary', { url: currentUrl, mode: 'detailed' });
        });

        document.getElementById('tagsExtraction').addEventListener('click', () => {
          ipcRenderer.send('request-summary', { url: currentUrl, mode: 'tags' });
        });

        document.getElementById('fullText').addEventListener('click', () => {
          ipcRenderer.send('request-summary', { url: currentUrl, mode: 'full' });
        });
      });
    </script>
  </body>
</html>
